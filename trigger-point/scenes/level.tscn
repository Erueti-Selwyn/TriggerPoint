[gd_scene load_steps=16 format=3 uid="uid://b7q1eno5y5die"]

[ext_resource type="Script" path="res://scripts/player.gd" id="1_n4l56"]
[ext_resource type="Script" path="res://scripts/hover.gd" id="4_41lvv"]
[ext_resource type="PackedScene" uid="uid://dqeky53dj2eb4" path="res://scenes/shotgun_basic.tscn" id="4_u86ou"]

[sub_resource type="BoxShape3D" id="BoxShape3D_6bif5"]
size = Vector3(0.397217, 0.400635, 0.401886)

[sub_resource type="BoxMesh" id="BoxMesh_1u31m"]
size = Vector3(0.4, 0.4, 0.4)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fhc4a"]
albedo_color = Color(0.377919, 0.377919, 0.377919, 1)

[sub_resource type="BoxMesh" id="BoxMesh_2s6tp"]
material = SubResource("StandardMaterial3D_fhc4a")
flip_faces = true
size = Vector3(10, 3.5, 8)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_e4r8r"]
albedo_color = Color(0.33363, 0.186561, 0.0174108, 1)

[sub_resource type="BoxMesh" id="BoxMesh_b6db7"]
material = SubResource("StandardMaterial3D_e4r8r")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_x3wjk"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_y5ny2"]
albedo_color = Color(0.695503, 0.695503, 0.695503, 1)

[sub_resource type="BoxMesh" id="BoxMesh_eanyj"]
material = SubResource("StandardMaterial3D_y5ny2")
size = Vector3(0.4, 1, 1.25)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_qt43v"]

[sub_resource type="Sky" id="Sky_c3pm3"]
sky_material = SubResource("ProceduralSkyMaterial_qt43v")

[sub_resource type="Environment" id="Environment_c2ie3"]
background_mode = 2
sky = SubResource("Sky_c3pm3")
ssao_enabled = true

[node name="level" type="Node3D"]

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.713442, -0.500362, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000854492, -0.00134277, 7.62939e-05)
shape = SubResource("BoxShape3D_6bif5")

[node name="mesh" type="Node3D" parent="StaticBody3D" node_paths=PackedStringArray("meshes", "parent")]
script = ExtResource("4_41lvv")
meshes = NodePath(".")
parent = NodePath("..")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D/mesh"]
mesh = SubResource("BoxMesh_1u31m")
skeleton = NodePath("../..")

[node name="environment" type="Node3D" parent="."]

[node name="Walls" type="MeshInstance3D" parent="environment"]
mesh = SubResource("BoxMesh_2s6tp")
skeleton = NodePath("../..")

[node name="Table" type="MeshInstance3D" parent="environment"]
transform = Transform3D(3, 0, 0, 0, 0.2, 0, 0, 0, 4, -0.253035, -0.62749, 0)
mesh = SubResource("BoxMesh_b6db7")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="environment/Table"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="environment/Table/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_x3wjk")

[node name="TableLeg1" type="MeshInstance3D" parent="environment"]
transform = Transform3D(0.2, 0, 0, 0, 2, 0, 0, 0, 0.2, 1.14633, -1.62309, -1.87408)
mesh = SubResource("BoxMesh_b6db7")
skeleton = NodePath("../..")

[node name="TableLeg2" type="MeshInstance3D" parent="environment"]
transform = Transform3D(0.2, 0, 0, 0, 2, 0, 0, 0, 0.2, 1.14633, -1.62309, 1.87731)
mesh = SubResource("BoxMesh_b6db7")
skeleton = NodePath("../..")

[node name="Scoreboard" type="MeshInstance3D" parent="environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.334499, 1.60219, 0)
mesh = SubResource("BoxMesh_eanyj")
skeleton = NodePath("../..")

[node name="Label3D" type="Label3D" parent="environment/Scoreboard"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.251728, -0.313023, 0)
text = "0        0"

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_c2ie3")

[node name="SpotLight3D" type="SpotLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, -0.0511507, 0.998691, 0, -0.998691, -0.0511507, -0.322684, 1.62516, -0.00738534)
light_size = 0.505
shadow_enabled = true
shadow_blur = 0.7
distance_fade_begin = 0.0
distance_fade_shadow = 463.74

[node name="player" type="Node3D" parent="." node_paths=PackedStringArray("debug_label_1", "debug_label_2", "debug_label_3", "camera", "held_item_pos", "gun_node", "item_pos_1", "item_pos_2", "item_pos_3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.46047, 0.551631, 0)
script = ExtResource("1_n4l56")
debug_label_1 = NodePath("Control/HBoxContainer/VBoxContainer/Label")
debug_label_2 = NodePath("Control/HBoxContainer/VBoxContainer/Label2")
debug_label_3 = NodePath("Control/HBoxContainer/VBoxContainer/Label3")
camera = NodePath("Camera3D")
rotation_down = Vector3(-0.802328, 1.5708, -4.5217e-08)
rotation_up = Vector3(-0.1, 1.571, 0)
camera_lerp_speed = 7
held_item_pos = NodePath("HeldItemPos")
gun_node = NodePath("../shotgun_basic")
item_pos_1 = NodePath("../ItemPos1")
item_pos_2 = NodePath("../ItemPos2")
item_pos_3 = NodePath("../ItemPos3")

[node name="Camera3D" type="Camera3D" parent="player"]
transform = Transform3D(-0.000203653, -0.0998334, 0.995004, 0, 0.995004, 0.0998334, -1, 2.03314e-05, -0.000202636, 0, 0, 0)

[node name="Control" type="Control" parent="player"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="HBoxContainer" type="HBoxContainer" parent="player/Control"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="VBoxContainer" type="VBoxContainer" parent="player/Control/HBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="player/Control/HBoxContainer/VBoxContainer"]
layout_mode = 2
text = "Test"

[node name="Label2" type="Label" parent="player/Control/HBoxContainer/VBoxContainer"]
layout_mode = 2
text = "Test"

[node name="Label3" type="Label" parent="player/Control/HBoxContainer/VBoxContainer"]
layout_mode = 2
text = "Test"

[node name="HeldItemPos" type="Node3D" parent="player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.56104, -0.323774, 0)

[node name="shotgun_basic" parent="." groups=["gun"] instance=ExtResource("4_u86ou")]
transform = Transform3D(-5.53601e-08, -1.26649, -0.80374, 1.5, -6.55671e-08, 0, -3.51326e-08, -0.80374, 1.26649, -0.562461, -0.454402, 0.117487)
in_hand_position = Vector3(0.118036, 0.251307, -0.00194971)
in_hand_rotation = Vector3(-0.241232, 0.311328, -1.13885)
on_table_position = Vector3(-0.562461, -0.454402, 0.117487)
on_table_rotation = Vector3(0, -0.564771, 0)

[node name="ItemPos1" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.52749, -1.2002)

[node name="ItemPos2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.228817, -0.52749, -1.2002)

[node name="ItemPos3" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.531447, -0.52749, -1.2002)
