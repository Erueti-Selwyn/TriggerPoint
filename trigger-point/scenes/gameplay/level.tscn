[gd_scene load_steps=14 format=3 uid="uid://b7q1eno5y5die"]

[ext_resource type="PackedScene" uid="uid://dabo5ahjn3wym" path="res://scenes/gameplay/scoreboard.tscn" id="1_plvog"]
[ext_resource type="FontFile" uid="uid://byfgd2yvl30p4" path="res://assets/2D/fonts/digital-7.ttf" id="1_xv3ju"]
[ext_resource type="PackedScene" uid="uid://bvtpy0a34dg4c" path="res://scenes/gameplay/player.tscn" id="4_h4ghb"]
[ext_resource type="PackedScene" uid="uid://dqk3ys4l1nrag" path="res://scenes/gameplay/inventory.tscn" id="5_e4d32"]
[ext_resource type="PackedScene" uid="uid://cbnqqus6j6t23" path="res://models/ingame area NonText.glb" id="5_ymd3f"]
[ext_resource type="PackedScene" uid="uid://ckkdeg8mads5t" path="res://models/dealing_table/Dealing Table.tscn" id="8_jl8fi"]
[ext_resource type="PackedScene" uid="uid://b0n613w84vp5h" path="res://scenes/gameplay/enemy.tscn" id="8_llb3g"]
[ext_resource type="PackedScene" uid="uid://7cakdks6xqyr" path="res://scenes/gameplay/shotgunfinal.tscn" id="10_rxli0"]

[sub_resource type="Environment" id="Environment_vch0a"]
tonemap_mode = 3
tonemap_exposure = 0.5
ssao_intensity = 1.5
fog_light_color = Color(0.231111, 0.25393, 0.289803, 1)
volumetric_fog_enabled = true

[sub_resource type="FogMaterial" id="FogMaterial_l38ix"]
density = 3.0
albedo = Color(0.233925, 0.233925, 0.233925, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_6bif5"]
size = Vector3(1.56921, 0.401, 2.28174)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0fci2"]
albedo_color = Color(0, 0, 0, 1)
metallic_specular = 0.0

[sub_resource type="BoxMesh" id="BoxMesh_edvh2"]
material = SubResource("StandardMaterial3D_0fci2")
flip_faces = true
size = Vector3(30, 15, 20)

[node name="level" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vch0a")

[node name="SpotLight3D" type="SpotLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.960765, -1.2124e-08, 0.277365, -0.277365, -4.19964e-08, 0.960765, 0, -1, -4.37114e-08, 3.53888, 9.72829, 0)
light_energy = 50.0
light_indirect_energy = 0.0
shadow_enabled = true
shadow_bias = 0.05
spot_range = 15.0
spot_attenuation = 2.0
spot_angle = 75.0

[node name="FogVolume" type="FogVolume" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 2.821, 0)
size = Vector3(4, 2, 4)
material = SubResource("FogMaterial_l38ix")

[node name="DiegeticUI" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.417, 0)

[node name="Self" type="StaticBody3D" parent="DiegeticUI" groups=["player_button"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.57702, -0.500362, 0)

[node name="ShootYourselfLabel" type="Label3D" parent="DiegeticUI/Self"]
transform = Transform3D(-4.37114e-08, -1, -4.37114e-08, 0, -4.37114e-08, 1, -1, 4.37114e-08, 1.91069e-15, 0, 0, 0)
modulate = Color(0.678431, 0.678431, 0.678431, 1)
text = "Shoot 
Yourself"
font = ExtResource("1_xv3ju")
font_size = 140

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiegeticUI/Self"]
shape = SubResource("BoxShape3D_6bif5")

[node name="Enemy" type="StaticBody3D" parent="DiegeticUI" groups=["enemy_button"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.63721, -0.500362, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiegeticUI/Enemy"]
shape = SubResource("BoxShape3D_6bif5")

[node name="ShootEnemyLabel" type="Label3D" parent="DiegeticUI/Enemy"]
transform = Transform3D(-4.37114e-08, -1, -4.37114e-08, 0, -4.37114e-08, 1, -1, 4.37114e-08, 1.91069e-15, 0, 0, 0)
modulate = Color(0.678431, 0.678431, 0.678431, 1)
text = "Shoot 
Enemy"
font = ExtResource("1_xv3ju")
font_size = 140

[node name="ItemDescriptionLabel" type="Label3D" parent="DiegeticUI"]
transform = Transform3D(-0.0139622, -0.999903, 0, -4.37071e-08, 6.10308e-10, 1, -0.999903, 0.0139622, -4.37114e-08, 3.21115, -0.5, 0)
text = "Item
Description"
font = ExtResource("1_xv3ju")
font_size = 64
width = 160.0

[node name="Scoreboard" parent="DiegeticUI" instance=ExtResource("1_plvog")]
transform = Transform3D(0.750198, 0, 0.804489, 0, 1.1, 0, -0.804489, 0, 0.750198, 1.50345, 0.839118, -5.64597)

[node name="environment" type="Node3D" parent="."]

[node name="room" type="MeshInstance3D" parent="environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.90576, 0)
mesh = SubResource("BoxMesh_edvh2")
skeleton = NodePath("../..")

[node name="Dealing Table" parent="environment" instance=ExtResource("8_jl8fi")]

[node name="ingame area NonText" parent="environment" instance=ExtResource("5_ymd3f")]

[node name="PosNodes" type="Node3D" parent="."]

[node name="HeldItemPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.86106, 4.59251, 0)

[node name="LiveBulletPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.89566, 4.02555, 3.00418)

[node name="BlankBulletPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.89545, 4.02519, -3.004)

[node name="ShootPlayerPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2401, 5.827, 0)

[node name="ShootEnemyPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.6991, 7.47431, 0.00628603)

[node name="player" parent="." node_paths=PackedStringArray("live_bullet_pos", "blank_bullet_pos", "held_item_description_label", "shoot_player_label", "shoot_enemy_label", "inventory_root") instance=ExtResource("4_h4ghb")]
transform = Transform3D(0.999996, -0.0026878, 0, 0.0026878, 0.999996, 0, 0, 0, 1, 7.7, 7.1, 0)
live_bullet_pos = NodePath("../PosNodes/LiveBulletPos")
blank_bullet_pos = NodePath("../PosNodes/BlankBulletPos")
held_item_description_label = NodePath("../DiegeticUI/ItemDescriptionLabel")
shoot_player_label = NodePath("../DiegeticUI/Self/ShootYourselfLabel")
shoot_enemy_label = NodePath("../DiegeticUI/Enemy/ShootEnemyLabel")
inventory_root = NodePath("../Inventory")

[node name="Inventory" parent="." node_paths=PackedStringArray("held_item_pos") instance=ExtResource("5_e4d32")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.396, 4.015, 0)
held_item_pos = NodePath("../PosNodes/HeldItemPos")

[node name="enemy" parent="." instance=ExtResource("8_llb3g")]
transform = Transform3D(-0.7, 0, 6.11959e-08, 0, 0.7, 0, -6.11959e-08, 0, -0.7, -7.13927, -0.239827, 0)

[node name="ShotgunStaticBody" parent="." instance=ExtResource("10_rxli0")]
