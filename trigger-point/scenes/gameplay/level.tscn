[gd_scene load_steps=16 format=3 uid="uid://b7q1eno5y5die"]

[ext_resource type="PackedScene" uid="uid://dabo5ahjn3wym" path="res://scenes/gameplay/scoreboard.tscn" id="1_plvog"]
[ext_resource type="PackedScene" uid="uid://bvtpy0a34dg4c" path="res://scenes/gameplay/player.tscn" id="4_h4ghb"]
[ext_resource type="FontFile" uid="uid://byfgd2yvl30p4" path="res://assets/2D/fonts/digital-7.ttf" id="4_j3ivg"]
[ext_resource type="PackedScene" uid="uid://dqk3ys4l1nrag" path="res://scenes/gameplay/inventory.tscn" id="5_e4d32"]
[ext_resource type="PackedScene" uid="uid://ckkdeg8mads5t" path="res://models/dealing_table/Dealing Table.tscn" id="8_jl8fi"]
[ext_resource type="PackedScene" uid="uid://b0n613w84vp5h" path="res://scenes/gameplay/enemy.tscn" id="8_llb3g"]
[ext_resource type="PackedScene" uid="uid://pqbj1q7kuwgi" path="res://models/ingame area/ingame area.glb" id="9_ok13q"]
[ext_resource type="PackedScene" uid="uid://d0blka36vu28u" path="res://scenes/gameplay/shotgun.tscn" id="12_hvetj"]
[ext_resource type="AudioStream" uid="uid://bcvfl3q3gcdvm" path="res://sound/background/static background.mp3" id="14_k2n7m"]
[ext_resource type="Script" path="res://scripts/environment/background_static.gd" id="15_nxbeo"]

[sub_resource type="Environment" id="Environment_vch0a"]
tonemap_mode = 3
tonemap_exposure = 0.5
ssao_intensity = 1.5
glow_enabled = true
glow_blend_mode = 1
fog_enabled = true
fog_light_color = Color(0.0675686, 0.0776701, 0.0935515, 1)
fog_density = 0.0245
volumetric_fog_enabled = true

[sub_resource type="FogMaterial" id="FogMaterial_l38ix"]
density = 3.0
albedo = Color(0, 0, 0, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_6bif5"]
size = Vector3(1.56921, 0.401, 2.28174)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0fci2"]
albedo_color = Color(0, 0, 0, 1)
metallic_specular = 0.0

[sub_resource type="BoxMesh" id="BoxMesh_edvh2"]
material = SubResource("StandardMaterial3D_0fci2")
flip_faces = true
size = Vector3(30, 15, 20)

[node name="level" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vch0a")

[node name="FogVolume" type="FogVolume" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 2.821, 0)
size = Vector3(4, 2, 4)
material = SubResource("FogMaterial_l38ix")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.0734993, 0, 0.997295, 0, 1, 0, -0.997295, 0, 0.0734993, -8.30176, 7.16812, -9.86098)
light_color = Color(1, 0.312295, 0.248026, 1)
light_energy = 0.196

[node name="SpotLight3D" type="SpotLight3D" parent="WorldEnvironment"]
transform = Transform3D(-4.37114e-08, -0.985351, 0.170536, 8.88178e-16, 0.170536, 0.985351, -1, 4.30711e-08, -7.45437e-09, 2.72538, 11.0245, 0.137831)
light_color = Color(0.574736, 0.661851, 0.818159, 1)
light_energy = 16.0
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
shadow_enabled = true
shadow_opacity = 0.75
spot_range = 15.0
spot_attenuation = 1.6

[node name="SpotLight3D2" type="SpotLight3D" parent="WorldEnvironment"]
transform = Transform3D(-0.972029, 0.200978, -0.12152, 0.0636048, 0.723347, 0.687549, 0.226083, 0.660589, -0.715897, -4.0814, 9.77588, -8.53967)
light_energy = 32.0
light_volumetric_fog_energy = 0.0
spot_range = 17.455
spot_angle = 25.92

[node name="OmniLight3D" type="OmniLight3D" parent="WorldEnvironment/SpotLight3D2"]
transform = Transform3D(1, 1.49012e-08, -1.49012e-08, 0, 1, 2.98023e-08, 0, 0, 1, 0.466809, 1.00382, -1.97649)
light_energy = 8.434
light_indirect_energy = 0.15
light_volumetric_fog_energy = 2.293
omni_range = 2.60609

[node name="SpotLight3D3" type="SpotLight3D" parent="WorldEnvironment"]
transform = Transform3D(-0.0633512, 0.121179, 0.990607, -0.225772, 0.965128, -0.1325, -0.972118, -0.232045, -0.0337831, 8.01028, 6.44508, -0.125426)
light_energy = 16.0
light_volumetric_fog_energy = 0.3
shadow_enabled = true
spot_range = 45.082
spot_attenuation = 2.0
spot_angle = 77.5
spot_angle_attenuation = 2.2974

[node name="OmniLight3D" type="OmniLight3D" parent="WorldEnvironment/SpotLight3D3"]
transform = Transform3D(1, -1.52737e-07, 3.72529e-09, 1.52737e-07, 1, 2.38419e-07, -5.58794e-09, -1.78814e-07, 1, -0.0729729, 1.13904, -2.10846)
light_energy = 3.805
light_volumetric_fog_energy = 0.0
omni_range = 2.69809

[node name="OmniLight3D" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.97764, 0.210284, 0, -0.210284, 0.97764, 0, 0, 0, 1, -9.00348, 5.48266, -0.070884)
light_color = Color(1, 0.0470588, 0.0705882, 1)
light_energy = 11.505

[node name="OmniLight3D3" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.97764, 0.210284, 0, -0.210284, 0.97764, 0, 0, 0, 1, -8.07219, 8.4704, -4.16798)
light_color = Color(1, 0.0470588, 0.0705882, 1)
light_energy = 11.505

[node name="OmniLight3D2" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.97764, 0.210284, 0, -0.210284, 0.97764, 0, 0, 0, 1, -7.36299, 9.35713, 2.96695)
light_color = Color(1, 0.0470588, 0.0705882, 1)
light_energy = 5.997

[node name="OmniLight3D4" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.16901, 6.55228, 4.54354)
light_energy = 4.556
light_volumetric_fog_energy = 0.0

[node name="OmniLight3D5" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.10721, 5.15675, -4.47082)
light_energy = 2.53
light_volumetric_fog_energy = 0.0
omni_range = 3.38025

[node name="OmniLight3D6" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.809396, 0, 0.587263, 0, 1, 0, -0.587263, 0, 0.809396, 2.00379, 5.48209, -5.01187)
omni_range = 2.93748

[node name="OmniLight3D7" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.386939, 6.52369, 5.20543)
light_energy = 1.809
omni_range = 3.09464

[node name="OmniLight3D8" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.59829, 5.49024, 4.20425)
light_energy = 0.88
omni_range = 2.15941

[node name="DiegeticUI" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.417, 0)

[node name="Self" type="StaticBody3D" parent="DiegeticUI" groups=["player_button"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.57702, -0.500362, 0)

[node name="ShootYourselfLabel" type="Label3D" parent="DiegeticUI/Self"]
transform = Transform3D(-4.37114e-08, -1, -4.37114e-08, 0, -4.37114e-08, 1, -1, 4.37114e-08, 1.91069e-15, 0, 0, 0)
modulate = Color(0.678431, 0.678431, 0.678431, 1)
text = "Shoot 
Yourself"
font = ExtResource("4_j3ivg")
font_size = 150

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiegeticUI/Self"]
shape = SubResource("BoxShape3D_6bif5")

[node name="Enemy" type="StaticBody3D" parent="DiegeticUI" groups=["enemy_button"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.63721, -0.500362, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="DiegeticUI/Enemy"]
shape = SubResource("BoxShape3D_6bif5")

[node name="ShootEnemyLabel" type="Label3D" parent="DiegeticUI/Enemy"]
transform = Transform3D(-4.37114e-08, -1, -4.37114e-08, 0, -4.37114e-08, 1, -1, 4.37114e-08, 1.91069e-15, 0, 0, 0)
modulate = Color(0.678431, 0.678431, 0.678431, 1)
text = "Shoot 
Enemy"
font = ExtResource("4_j3ivg")
font_size = 150

[node name="ItemDescriptionLabel" type="Label3D" parent="DiegeticUI"]
transform = Transform3D(-0.0139622, -0.999903, 0, -4.37071e-08, 6.10308e-10, 1, -0.999903, 0.0139622, -4.37114e-08, 3.21115, -0.5, 0)
text = "Item
Description"
font = ExtResource("4_j3ivg")
font_size = 64
width = 160.0

[node name="Scoreboard" parent="DiegeticUI" instance=ExtResource("1_plvog")]
transform = Transform3D(0.680721, 0, 0.732543, 0, 1, 0, -0.732543, 0, 0.680721, 1.48162, 0.86764, -5.60622)

[node name="environment" type="Node3D" parent="."]

[node name="room" type="MeshInstance3D" parent="environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.90576, 0)
mesh = SubResource("BoxMesh_edvh2")
skeleton = NodePath("../..")

[node name="Dealing Table" parent="environment" instance=ExtResource("8_jl8fi")]

[node name="ingame area" parent="environment" instance=ExtResource("9_ok13q")]

[node name="PosNodes" type="Node3D" parent="."]

[node name="HeldItemPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.17587, 4.59831, 0)

[node name="NewItemPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.20273, 5.41279, 0)

[node name="CenterBulletPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.896, 4.026, 0)

[node name="UsedBulletPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.896, 4.026, 3)

[node name="ShootPlayerPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.2401, 5.827, 0)

[node name="ShootEnemyPos" type="Node3D" parent="PosNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.6991, 7.47431, 0.00628603)

[node name="player" parent="." node_paths=PackedStringArray("used_bullet_pos", "center_bullet_pos", "held_item_description_label", "shoot_player_label", "shoot_enemy_label", "inventory_root") instance=ExtResource("4_h4ghb")]
transform = Transform3D(0.999996, -0.0026878, 0, 0.0026878, 0.999996, 0, 0, 0, 1, 7.7, 7.1, 0)
used_bullet_pos = NodePath("../PosNodes/UsedBulletPos")
center_bullet_pos = NodePath("../PosNodes/CenterBulletPos")
held_item_description_label = NodePath("../DiegeticUI/ItemDescriptionLabel")
shoot_player_label = NodePath("../DiegeticUI/Self/ShootYourselfLabel")
shoot_enemy_label = NodePath("../DiegeticUI/Enemy/ShootEnemyLabel")
inventory_root = NodePath("../Inventory")

[node name="Inventory" parent="." node_paths=PackedStringArray("held_item_pos", "new_item_pos") instance=ExtResource("5_e4d32")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.396, 4.015, 0)
held_item_pos = NodePath("../PosNodes/HeldItemPos")
new_item_pos = NodePath("../PosNodes/NewItemPos")

[node name="enemy" parent="." instance=ExtResource("8_llb3g")]
transform = Transform3D(-0.9, 0, 1.35896e-07, 0, 0.9, 0, -1.35896e-07, 0, -0.9, -7.13927, -2.70779, 0)

[node name="Shotgun" parent="." instance=ExtResource("12_hvetj")]

[node name="BackgroundStaticAudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("14_k2n7m")
volume_db = -5.0
autoplay = true
script = ExtResource("15_nxbeo")
